<!DOCTYPE html>
<html>
<head>
    <title>üí∞ –ò–Ω–≤–µ—Å—Ç–∏—Ü–∏–∏</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="theme-color" content="#667eea">
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 0;
            padding: 20px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            min-height: 100vh;
        }
        .container {
            max-width: 400px;
            margin: 0 auto;
        }
        .card {
            background: rgba(255, 255, 255, 0.1);
            border-radius: 20px;
            padding: 25px;
            margin-bottom: 20px;
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.2);
        }
        h1 {
            text-align: center;
            color: #fff;
            margin-bottom: 30px;
            font-size: 28px;
        }
        .balance {
            font-size: 48px;
            text-align: center;
            color: #00ff88;
            margin: 20px 0;
            font-weight: bold;
        }
        button {
            background: #4361ee;
            color: white;
            border: none;
            padding: 16px;
            border-radius: 12px;
            width: 100%;
            font-size: 16px;
            margin: 8px 0;
            cursor: pointer;
            transition: 0.3s;
        }
        button:hover {
            background: #3a56d4;
            transform: translateY(-2px);
        }
        .stats {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 15px;
            margin-top: 20px;
        }
        .stat-item {
            background: rgba(255, 255, 255, 0.15);
            padding: 15px;
            border-radius: 10px;
            text-align: center;
        }
        .loader {
            display: none;
            text-align: center;
            padding: 20px;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="loader" id="loader">üîÑ –ó–∞–≥—Ä—É–∑–∫–∞ –¥–∞–Ω–Ω—ã—Ö...</div>
        
        <div id="app-content">
            <h1 id="welcome-text">üöÄ –ò–ù–í–ï–°–¢–ò–¶–ò–û–ù–ù–û–ï –ü–†–ò–õ–û–ñ–ï–ù–ò–ï</h1>
            
            <div class="card">
                <h2>–í–∞—à –±–∞–ª–∞–Ω—Å</h2>
                <div class="balance" id="balance">$0.00</div>
                <div style="text-align: center; margin-bottom: 15px;">
                    <small>ID: <span id="user-id">000000</span></small>
                </div>
                <button onclick="deposit()">üí≥ –ü–æ–ø–æ–ª–Ω–∏—Ç—å –±–∞–ª–∞–Ω—Å</button>
                <button onclick="withdraw()">üì§ –í—ã–≤–µ—Å—Ç–∏ —Å—Ä–µ–¥—Å—Ç–≤–∞</button>
            </div>
            
            <div class="card">
                <h2>üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞</h2>
                <div class="stats">
                    <div class="stat-item">
                        <div>üìà –î–æ—Ö–æ–¥–Ω–æ—Å—Ç—å</div>
                        <div style="color: #00ff88; font-weight: bold;" id="profit-rate">1.5%/–¥–µ–Ω—å</div>
                    </div>
                    <div class="stat-item">
                        <div>üë• –†–µ—Ñ–µ—Ä–∞–ª—ã</div>
                        <div style="font-weight: bold;" id="referrals-count">0</div>
                    </div>
                    <div class="stat-item">
                        <div>üí∞ –ò–Ω–≤–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–æ</div>
                        <div style="font-weight: bold;" id="invested">$0.00</div>
                    </div>
                    <div class="stat-item">
                        <div>üèÜ –£—Ä–æ–≤–µ–Ω—å</div>
                        <div style="color: #FFD700; font-weight: bold;" id="user-level">–õ–∞—Ç—É–Ω—å</div>
                    </div>
                </div>
            </div>
            
            <div class="card">
                <button onclick="showRefs()">üë• –†–µ—Ñ–µ—Ä–∞–ª—å–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞</button>
                <button onclick="showCareer()">üèÜ –ö–∞—Ä—å–µ—Ä–Ω—ã–π —Ä–æ—Å—Ç</button>
                <button onclick="showCalculator()">üßÆ –ö–∞–ª—å–∫—É–ª—è—Ç–æ—Ä –¥–æ—Ö–æ–¥–Ω–æ—Å—Ç–∏</button>
                <button onclick="showHistory()">üìã –ò—Å—Ç–æ—Ä–∏—è –æ–ø–µ—Ä–∞—Ü–∏–π</button>
            </div>
        </div>
    </div>

    <script>
        // Telegram Web App API
        let tg = window.Telegram.WebApp;
        
        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è Web App
        tg.ready();
        tg.expand();
        tg.setHeaderColor('#667eea');
        tg.setBackgroundColor('#667eea');
        
        // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –∑–∞–≥—Ä—É–∑–∫—É
        document.getElementById('loader').style.display = 'block';
        document.getElementById('app-content').style.display = 'none';
        
        // –ü–æ–ª—É—á–∞–µ–º –¥–∞–Ω–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –∏–∑ Telegram
        let user = tg.initDataUnsafe.user;
        let userData = null;
        
        // –§—É–Ω–∫—Ü–∏—è –¥–ª—è –æ—Ç–ø—Ä–∞–≤–∫–∏ –¥–∞–Ω–Ω—ã—Ö –Ω–∞ —Å–µ—Ä–≤–µ—Ä
        async function sendToServer(action, data = {}) {
            try {
                // –ó–¥–µ—Å—å –±—É–¥–µ—Ç –æ—Ç–ø—Ä–∞–≤–∫–∞ –Ω–∞ –Ω–∞—à –±–æ—Ç
                console.log('Sending to server:', action, data);
                
                // –í—Ä–µ–º–µ–Ω–Ω–æ —ç–º—É–ª–∏—Ä—É–µ–º –æ—Ç–≤–µ—Ç
                return {
                    success: true,
                    user: {
                        id: user.id,
                        balance: 1000 + (user.id % 1000),
                        profit_rate: 1.5,
                        invested: 500,
                        referrals: ['123', '456'],
                        level: 'bronze',
                        first_name: user.first_name
                    }
                };
            } catch (error) {
                console.error('Server error:', error);
                return { success: false, error: error.message };
            }
        }
        
        // –ó–∞–≥—Ä—É–∂–∞–µ–º –¥–∞–Ω–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
        async function loadUserData() {
            if (user) {
                // –û—Ç–ø—Ä–∞–≤–ª—è–µ–º –∑–∞–ø—Ä–æ—Å –Ω–∞ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—é/–ø–æ–ª—É—á–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö
                const response = await sendToServer('get_user', {
                    user_id: user.id,
                    username: user.username,
                    first_name: user.first_name
                });
                
                if (response.success) {
                    userData = response.user;
                    updateUI();
                }
            }
            
            // –°–∫—Ä—ã–≤–∞–µ–º –∑–∞–≥—Ä—É–∑–∫—É, –ø–æ–∫–∞–∑—ã–≤–∞–µ–º –∫–æ–Ω—Ç–µ–Ω—Ç
            document.getElementById('loader').style.display = 'none';
            document.getElementById('app-content').style.display = 'block';
        }
        
        // –û–±–Ω–æ–≤–ª—è–µ–º –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
        function updateUI() {
            if (userData) {
                // –ü—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏–µ
                document.getElementById('welcome-text').textContent = `üöÄ –î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å, ${userData.first_name}!`;
                
                // –ë–∞–ª–∞–Ω—Å
                document.getElementById('balance').textContent = `$${userData.balance.toFixed(2)}`;
                document.getElementById('user-id').textContent = userData.id;
                
                // –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞
                document.getElementById('profit-rate').textContent = `${userData.profit_rate}%/–¥–µ–Ω—å`;
                document.getElementById('referrals-count').textContent = userData.referrals ? userData.referrals.length : 0;
                document.getElementById('invested').textContent = `$${userData.invested.toFixed(2)}`;
                
                // –£—Ä–æ–≤–µ–Ω—å
                const levels = {
                    'bronze': 'ü•â –õ–∞—Ç—É–Ω—å',
                    'silver': 'ü•à –°–µ—Ä–µ–±—Ä–æ',
                    'gold': 'ü•á –ó–æ–ª–æ—Ç–æ',
                    'platinum': 'üíé –ü–ª–∞—Ç–∏–Ω–∞'
                };
                document.getElementById('user-level').textContent = levels[userData.level] || '–õ–∞—Ç—É–Ω—å';
            }
        }
        
        // –§—É–Ω–∫—Ü–∏–∏ –∫–Ω–æ–ø–æ–∫
        function deposit() {
            tg.showPopup({
                title: 'üí≥ –ü–æ–ø–æ–ª–Ω–µ–Ω–∏–µ –±–∞–ª–∞–Ω—Å–∞',
                message: '–í—ã–±–µ—Ä–∏—Ç–µ —Å—É–º–º—É –ø–æ–ø–æ–ª–Ω–µ–Ω–∏—è:',
                buttons: [
                    {id: '50', text: '$50', type: 'default'},
                    {id: '100', text: '$100', type: 'default'},
                    {id: '500', text: '$500', type: 'default'},
                    {id: '1000', text: '$1000', type: 'default'},
                    {id: 'custom', text: 'üí∞ –î—Ä—É–≥–∞—è —Å—É–º–º–∞', type: 'default'},
                    {id: 'cancel', text: '‚ùå –û—Ç–º–µ–Ω–∞', type: 'cancel'}
                ]
            });
        }
        
        function withdraw() {
            const available = userData ? userData.balance : 0;
            tg.showAlert(`üí∞ –î–æ—Å—Ç—É–ø–Ω–æ –¥–ª—è –≤—ã–≤–æ–¥–∞: $${available.toFixed(2)}\n\n‚è±Ô∏è –í—ã–≤–æ–¥ —Ç–µ–ª–∞ –¥–µ–ø–æ–∑–∏—Ç–∞ –¥–æ—Å—Ç—É–ø–µ–Ω —á–µ—Ä–µ–∑ 25 –¥–Ω–µ–π –ø–æ—Å–ª–µ –∏–Ω–≤–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è.`);
        }
        
        function showRefs() {
            if (user) {
                let refLink = `https://t.me/${tg.initDataUnsafe.user.username || 'your_bot'}?start=ref${user.id}`;
                let refCount = userData ? (userData.referrals ? userData.referrals.length : 0) : 0;
                let refBonus = refCount * 50;
                
                tg.showAlert(
                    'üë• –†–ï–§–ï–†–ê–õ–¨–ù–ê–Ø –°–ò–°–¢–ï–ú–ê\n\n' +
                    `üîó –í–∞—à–∞ —Å—Å—ã–ª–∫–∞:\n${refLink}\n\n` +
                    `üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞:\n` +
                    `‚Ä¢ –†–µ—Ñ–µ—Ä–∞–ª–æ–≤: ${refCount}\n` +
                    `‚Ä¢ –ó–∞—Ä–∞–±–æ—Ç–∞–Ω–æ: $${refBonus}.00\n\n` +
                    'üíé –£—Å–ª–æ–≤–∏—è:\n' +
                    '‚Ä¢ 10% –æ—Ç –¥–µ–ø–æ–∑–∏—Ç–∞ —Ä–µ—Ñ–µ—Ä–∞–ª–∞\n' +
                    '‚Ä¢ 5% –æ—Ç –µ–≥–æ –µ–∂–µ–¥–Ω–µ–≤–Ω–æ–π –ø—Ä–∏–±—ã–ª–∏\n' +
                    '‚Ä¢ 3 —É—Ä–æ–≤–Ω—è —Ä–µ—Ñ–µ—Ä–∞–ª–æ–≤\n\n' +
                    'üèÜ –ó–∞ –∫–∞–∂–¥—ã—Ö 5 —Ä–µ—Ñ–µ—Ä–∞–ª–æ–≤ +0.1% –∫ –≤–∞—à–µ–π –¥–æ—Ö–æ–¥–Ω–æ—Å—Ç–∏!'
                );
            }
        }
        
        function showCareer() {
            tg.showAlert(
                'üèÜ –ö–ê–†–¨–ï–†–ù–´–ô –†–û–°–¢\n\n' +
                'ü•â –õ–∞—Ç—É–Ω—å (–±–∞–∑–æ–≤—ã–π):\n' +
                '‚Ä¢ –î–æ—Ö–æ–¥–Ω–æ—Å—Ç—å: 1.5%/–¥–µ–Ω—å\n' +
                '‚Ä¢ –ú–∏–Ω. –¥–µ–ø–æ–∑–∏—Ç: $50\n' +
                '‚Ä¢ –†–µ—Ñ–µ—Ä–∞–ª–æ–≤: 0+\n\n' +
                'ü•à –°–µ—Ä–µ–±—Ä–æ (5 —Ä–µ—Ñ–µ—Ä–∞–ª–æ–≤):\n' +
                '‚Ä¢ –î–æ—Ö–æ–¥–Ω–æ—Å—Ç—å: 2.0%/–¥–µ–Ω—å\n' +
                '‚Ä¢ –ú–∏–Ω. –¥–µ–ø–æ–∑–∏—Ç: $200\n' +
                '‚Ä¢ –ë–æ–Ω—É—Å: +5% –∫ —Ä–µ—Ñ–µ—Ä–∞–ª—å–Ω—ã–º\n\n' +
                'ü•á –ó–æ–ª–æ—Ç–æ (20 —Ä–µ—Ñ–µ—Ä–∞–ª–æ–≤):\n' +
                '‚Ä¢ –î–æ—Ö–æ–¥–Ω–æ—Å—Ç—å: 2.5%/–¥–µ–Ω—å\n' +
                '‚Ä¢ –ú–∏–Ω. –¥–µ–ø–æ–∑–∏—Ç: $1000\n' +
                '‚Ä¢ –ë–æ–Ω—É—Å: +10% –∫ —Ä–µ—Ñ–µ—Ä–∞–ª—å–Ω—ã–º\n\n' +
                'üíé –ü–ª–∞—Ç–∏–Ω–∞ (50 —Ä–µ—Ñ–µ—Ä–∞–ª–æ–≤):\n' +
                '‚Ä¢ –î–æ—Ö–æ–¥–Ω–æ—Å—Ç—å: 3.0%/–¥–µ–Ω—å\n' +
                '‚Ä¢ –ú–∏–Ω. –¥–µ–ø–æ–∑–∏—Ç: $5000\n' +
                '‚Ä¢ –ë–æ–Ω—É—Å: +15% –∫ —Ä–µ—Ñ–µ—Ä–∞–ª—å–Ω—ã–º'
            );
        }
        
        function showCalculator() {
            let amount = userData ? userData.invested || 1000 : 1000;
            let rate = userData ? userData.profit_rate || 1.5 : 1.5;
            
            let daily = amount * (rate / 100);
            let monthly = daily * 30;
            let yearly = daily * 365;
            
            tg.showAlert(
                'üßÆ –ö–ê–õ–¨–ö–£–õ–Ø–¢–û–† –î–û–•–û–î–ù–û–°–¢–ò\n\n' +
                `–ü—Ä–∏ –∏–Ω–≤–µ—Å—Ç–∏—Ü–∏–∏: $${amount.toFixed(2)}\n` +
                `–î–æ—Ö–æ–¥–Ω–æ—Å—Ç—å: ${rate}%/–¥–µ–Ω—å\n\n` +
                'üìà –ü—Ä–∏–±—ã–ª—å:\n' +
                `‚Ä¢ –ó–∞ –¥–µ–Ω—å: $${daily.toFixed(2)}\n` +
                `‚Ä¢ –ó–∞ –º–µ—Å—è—Ü (30 –¥–Ω–µ–π): $${monthly.toFixed(2)}\n` +
                `‚Ä¢ –ó–∞ –≥–æ–¥: $${yearly.toFixed(2)}\n\n` +
                'üíµ –ò—Ç–æ–≥–æ–≤—ã–µ —Å—É–º–º—ã:\n' +
                `‚Ä¢ –ß–µ—Ä–µ–∑ –º–µ—Å—è—Ü: $${(amount + monthly).toFixed(2)}\n` +
                `‚Ä¢ –ß–µ—Ä–µ–∑ –≥–æ–¥: $${(amount + yearly).toFixed(2)}`
            );
        }
        
        function showHistory() {
            tg.showAlert('üìã –ò–°–¢–û–†–ò–Ø –û–ü–ï–†–ê–¶–ò–ô\n\n–ü–æ–∫–∞ —á—Ç–æ –æ–ø–µ—Ä–∞—Ü–∏–π –Ω–µ—Ç.\n\n–ü–æ—Å–ª–µ –ø–æ–ø–æ–ª–Ω–µ–Ω–∏—è –±–∞–ª–∞–Ω—Å–∞ –∑–¥–µ—Å—å –±—É–¥–µ—Ç –æ—Ç–æ–±—Ä–∞–∂–∞—Ç—å—Å—è –∏—Å—Ç–æ—Ä–∏—è –≤—Å–µ—Ö —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π.');
        }
        
        // –ö–Ω–æ–ø–∫–∞ "–ù–∞–∑–∞–¥" –≤ Telegram
        tg.BackButton.show();
        tg.BackButton.onClick(function() {
            tg.close();
        });
        
        // –ó–∞–≥—Ä—É–∂–∞–µ–º –¥–∞–Ω–Ω—ã–µ –ø—Ä–∏ —Å—Ç–∞—Ä—Ç–µ
        loadUserData();
    </script>
</body>
</html>
